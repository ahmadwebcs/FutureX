{
    "info":  {
                 "_postman_id":  "futurex-collection",
                 "name":  "FutureX API",
                 "schema":  "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
             },
    "item":  [
                 {
                     "name":  "Auth / Get Token",
                     "request":  {
                                     "method":  "POST",
                                     "header":  [
                                                    {
                                                        "key":  "Content-Type",
                                                        "value":  "application/x-www-form-urlencoded"
                                                    }
                                                ],
                                     "body":  {
                                                  "mode":  "urlencoded",
                                                  "urlencoded":  [
                                                                     {
                                                                         "key":  "username",
                                                                         "value":  "{{admin_email}}",
                                                                         "type":  "text"
                                                                     },
                                                                     {
                                                                         "key":  "password",
                                                                         "value":  "{{admin_password}}",
                                                                         "type":  "text"
                                                                     }
                                                                 ]
                                              },
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/token-auth/",
                                                 "path":  [
                                                              "api",
                                                              "token-auth"
                                                          ]
                                             }
                                 },
                     "event":  [
                                   {
                                       "listen":  "test",
                                       "script":  {
                                                      "exec":  [
                                                                   "// Safe post-response handling for token request",
                                                                   "if (pm.response.code === 200) {",
                                                                   "  try {",
                                                                   "    var json = pm.response.json();",
                                                                   "    if (json \u0026\u0026 json.token) {",
                                                                   "      pm.environment.set(\u0027token\u0027, json.token);",
                                                                   "      console.log(\u0027Token saved to environment.\u0027);",
                                                                   "    } else {",
                                                                   "      console.log(\u0027Token not present in response JSON:\u0027, json);",
                                                                   "    }",
                                                                   "  } catch (e) {",
                                                                   "    console.log(\u0027Response not valid JSON:\u0027, pm.response.text());",
                                                                   "  }",
                                                                   "} else {",
                                                                   "  console.log(\u0027Token request failed:\u0027, pm.response.code, pm.response.text());",
                                                                   "}"
                                                               ]
                                                  }
                                   }
                               ]
                 },
                 {
                     "name":  "Investors / Register",
                     "request":  {
                                     "method":  "POST",
                                     "header":  [
                                                    {
                                                        "key":  "Content-Type",
                                                        "value":  "application/json"
                                                    }
                                                ],
                                     "body":  {
                                                  "mode":  "raw",
                                                  "raw":  "{\n  \"name\": \"Test Investor\",\n  \"cnic\": \"12345-1234567-1\",\n  \"email\": \"test.investor@example.com\",\n  \"phone\": \"03001234567\",\n  \"address\": \"123 Example Street\",\n  \"password\": \"strongpassword\"\n}"
                                              },
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/investors/register/",
                                                 "path":  [
                                                              "api",
                                                              "investors",
                                                              "register"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Investors / List",
                     "request":  {
                                     "method":  "GET",
                                     "header":  [
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/investors/investors/",
                                                 "path":  [
                                                              "api",
                                                              "investors",
                                                              "investors"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Investors / Upload KYC",
                     "request":  {
                                     "method":  "POST",
                                     "header":  [
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "body":  {
                                                  "mode":  "formdata",
                                                  "formdata":  [
                                                                   {
                                                                       "key":  "investor",
                                                                       "value":  "\u003cINVESTOR_PK\u003e",
                                                                       "type":  "text"
                                                                   },
                                                                   {
                                                                       "key":  "name",
                                                                       "value":  "ID Document",
                                                                       "type":  "text"
                                                                   },
                                                                   {
                                                                       "key":  "file",
                                                                       "type":  "file",
                                                                       "src":  ""
                                                                   }
                                                               ]
                                              },
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/investors/kyc-docs/",
                                                 "path":  [
                                                              "api",
                                                              "investors",
                                                              "kyc-docs"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Investments / Add Investment",
                     "request":  {
                                     "method":  "POST",
                                     "header":  [
                                                    {
                                                        "key":  "Content-Type",
                                                        "value":  "application/json"
                                                    },
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "body":  {
                                                  "mode":  "raw",
                                                  "raw":  "{\n  \"investor\": \"\u003cINVESTOR_PK\u003e\",\n  \"college\": \"\u003cCOLLEGE_PK\u003e\",\n  \"amount\": 1000.00,\n  \"share_percentage\": 0.0\n}"
                                              },
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/investments/add/",
                                                 "path":  [
                                                              "api",
                                                              "investments",
                                                              "add"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Investments / Portfolio",
                     "request":  {
                                     "method":  "GET",
                                     "header":  [
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/investments/portfolio/",
                                                 "path":  [
                                                              "api",
                                                              "investments",
                                                              "portfolio"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Finance / Generate Forecast",
                     "request":  {
                                     "method":  "POST",
                                     "header":  [
                                                    {
                                                        "key":  "Content-Type",
                                                        "value":  "application/json"
                                                    },
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "body":  {
                                                  "mode":  "raw",
                                                  "raw":  "{\n  \"investor\": \"\u003cINVESTOR_PK\u003e\",\n  \"months\": 12\n}"
                                              },
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/finance/forecasts/generate/",
                                                 "path":  [
                                                              "api",
                                                              "finance",
                                                              "forecasts",
                                                              "generate"
                                                          ]
                                             }
                                 }
                 },
                 {
                     "name":  "Finance / List Payments",
                     "request":  {
                                     "method":  "GET",
                                     "header":  [
                                                    {
                                                        "key":  "Authorization",
                                                        "value":  "Token {{token}}"
                                                    }
                                                ],
                                     "url":  {
                                                 "raw":  "{{base_url}}/api/finance/payments/",
                                                 "path":  [
                                                              "api",
                                                              "finance",
                                                              "payments"
                                                          ]
                                             }
                                 }
                 }
             ]
}
